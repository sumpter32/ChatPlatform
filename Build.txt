You are building a self-hosted AI chatbot platform similar to ChatGPT, but customizable for different use cases like What Would Jesus Say (https://wwjs.app). The platform must run locally (Docker-compatible), support Open WebUI API backends, and connect to MySQL.

ğŸ”§ Project Overview
Build a fullstack web application using:
- Frontend: React + Vite + TailwindCSS
- Backend: Express.js + Node.js
- Database: MySQL
- Auth: Local email/password + JWT
- Image Uploads: Processed locally using canvas (frontend) and/or sharp (backend)

âœ… Self-Hosted Install Flow
- Include an Install Wizard that:
  - Collects MySQL credentials
  - Tests DB connection
  - Creates required tables
  - Writes .env file
  - Optionally seeds an admin user

âš™ï¸ Admin Panel Features
- Agent Management
  - Name
  - Icon (URL or upload)
  - Greeting message
  - Prompt template
  - Selectable model (from Open WebUI)
  - Vision-enabled toggle (for image upload)
  - max_tokens
  - temperature
  - has_pre_prompt toggle
  - response_style: dropdown (Parables, Casual, Direct, King James)
  - Toggle Active/Inactive

- Model Integration (Open WebUI)
  - API Base URL input
  - Test connection
  - Sync available models (save to DB)
  - Allow per-model toggle for use

- Platform Settings (Rebranding)
  - Site name
  - Site logo upload
  - Favicon
  - Primary theme color
  - Footer text
  - Custom CSS override

- WordPress Integration Section
  - WordPress site URL
  - API key/secret (if needed)
  - Test connection
  - Status indicator

ğŸ’¬ Chat System Features
- Fully responsive chat UI (mobile-friendly)
- Message streaming if available (from Open WebUI or other API)
- Supports multiple agents
- Context memory using last N messages (from DB)
- Chat history saved per thread

ğŸ“¦ Export & Sharing Features
- Allow users to check messages and generate a shareable image from selected content
- Render shareable image using html2canvas
- Provide sharing popup with:
  - Save image locally
  - Copy to clipboard
  - Mobile share (navigator.share())

- Also provide:
  - Export full chat thread as PDF
  - Email chat transcript to self

ğŸ“± Mobile UX Requirements
- Sticky message input
- Optimized layout for 320pxâ€“768px widths
- Easy tap targets
- Collapsible agent selector or fixed top menu

ğŸ§¾ Database Schema
Please create migrations for:
- users (id, name, email, password_hash, role)
- chat_threads (id, user_id, title, created_at)
- messages (id, thread_id, role, content, created_at)
- agents (id, name, icon_url, greeting, prompt_template, model_id, max_tokens, temperature, vision_enabled, has_pre_prompt, response_style, active)
- models (id, name, provider, description, enabled, last_synced)
- platform_settings (key, value)
- wordpress_settings (url, api_key, last_checked)

ğŸ›  Dev Notes
- Use .env for all config
- Include docker-compose.yml with:
  - MySQL
  - Backend API (Express.js)
  - Optional: static frontend or build step
- Provide a README.md with:
  - Install instructions
  - DB setup
  - Login info
  - Frontend and backend start scripts

ğŸ“‚ Project Folder Structure
/platform-root/
â”œâ”€â”€ /frontend/              â† React + Vite + Tailwind
â”‚   â”œâ”€â”€ /pages/             â† Chat, Login, Admin, Install Wizard
â”‚   â””â”€â”€ /components/        â† ChatBubble, MessageInput, ShareModal, AgentSelect
â”œâ”€â”€ /backend/               â† Express.js server
â”‚   â”œâ”€â”€ /routes/            â† /api/chat, /api/install, /api/admin
â”‚   â”œâ”€â”€ /utils/             â† JWT, DB, OpenWebUI client, image resize
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ /sql/                   â† DB migrations (MySQL)
â”œâ”€â”€ /docker/                â† Docker configs
â”œâ”€â”€ .env.example
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md

ğŸ¤– Final Goal
This platform will be used to host custom agents like â€œJesusâ€ on WWJS.app, but must support rebranding for other projects. Keep the code clean, modular, and extensible. Prioritize local-first processing, open source compatibility, and ease of install on CloudPanel or similar VPS environments.